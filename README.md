# To-Do List API на Go

### Небольшой REST-бэкэнд, позволяющий пользователям регистрироваться, входить в систему и управлять своими задачами.  
### **Стек**: Go 1.22 · Gin · GORM (+SQLite) · JWT (HS256) · bcrypt.

---

## Быстрый запуск


### 1. Склонировать репозиторий и скачать зависимости

   ```bash
   git clone https://github.com/Novice-prog/backend_todo_go.git
   cd todo_list
   go mod download
   ```
### 2. Создать файл .env
   ```bash
   cp .env.example .env  
   ```
### 3. Запустить сервер
   ```bash
   go run ./cmd/server
   ```
---

## Переменные окружения
| Переменная     | Значение по умолчанию | Назначение                                                     |
| -------------- | --------------------- | -------------------------------------------------------------- |
| `JWT_SECRET`   | `change-me`           | Ключ HMAC для подписи JWT ( **обязательно** поменяйте в проде) |
| `DATABASE_DSN` | `./todos.db`          | Путь к файлу SQLite                                            |
| `PORT`         | `8080`                | Порт HTTP-сервера                                              |


---
## Схема API
### Аутентификация 
| Метод | Путь            | Тело запроса (JSON)             | Описание                                 |
| ----- | --------------- | ------------------------------- | ---------------------------------------- |
| POST  | `/api/register` | `username`, `email`, `password` | Регистрация → выдаёт JWT и ставит cookie |
| POST  | `/api/login`    | `username`, `password`          | Вход → выдаёт JWT                        |
| GET   | `/api/profile`  | —                               | Текущий пользователь                     |

### Задачи(Todos)
| Метод  | Путь                     | Тело                                   | Описание                     |
| ------ | ------------------------ | -------------------------------------- | ---------------------------- |
| GET    | `/api/todos`             | —                                      | Список задач текущего юзера  |
| POST   | `/api/todos`             | `title`, `description?`                | Создать задачу               |
| PATCH  | `/api/todos/{id}`        | `title?`, `description?`, `completed?` | Частичное обновление         |
| PATCH  | `/api/todos/{id}/toggle` | —                                      | Переключить флаг `completed` |
| DELETE | `/api/todos/{id}`        | —                                      | Удалить задачу               |

---

## Структура проекта 
```
cmd/
    server/ 
        main.go — точка входа
    internal/
        database/     инициализация GORM, хелперы
        models/       доменные структуры + DTO + валидация
        handlers/     HTTP-хендлеры
        middleware/   JWT-аутентификация
```